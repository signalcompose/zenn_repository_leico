---
title: MidiFileからMidiFileSequenceを作成するCreateMidiFileSequenceノードを作成する
---

# 工事中

[前回のチャプター](./17) ではBlueprintノードを実装するためのモジュールを2つ作成しました。
このチャプターから、それぞれにC++ファイルを作成し、Blueprintノードの作成を行っていきます。

## このチャプターで作成するBlueprintノード

このチャプターではまず、 `CreateMidiFileSequencer`  というノードを作成します。
このノードはMidiFileアセットから、MidiFileを再生するクラス、 `MidiFileSequencer` のインスタンス(実体)を作成します。

![CreateMidiFileSequencer](/images/books/ue_midi_file_plugin/18/01.png)

## C++クラスを作成する

[Chapter 7](./07) で行ったように、Unreal Engine側からC++クラスをモジュールに追加します。
今回は2つのモジュールにそれぞれ1つずつ、C++ファイルを追加します。

### `MidiFilePluginBlueprintModule` に `MidiFilePluginBlueprint` クラスを作成する

まずは `MidiFilePluginBlueprint` を作成します。作成する際の設定は以下になります:

* 継承元   : `BlueprintFunctionLibrary`
* 公開設定 : `public`
* 作成先   : `MidiFilePluginBlueprintModule`
* クラス名 : `MidiFilePluginBlueprint`

以下が、それぞれの設定を行っている画面です。

![継承元の設定](/images/books/ue_midi_file_plugin/18/02.png)
![公開設定、クラス名と作成先の設定](/images/books/ue_midi_file_plugin/18/03.png)

作成が正常に行われていると、 `MidiFilePluginBlueprintModule` 内に2つのファイルが作成されています。

![ファイルの確認](/images/books/ue_midi_file_plugin/18/04.png)

### `MidiFileSequenceModule` に `MidiFileSequence` クラスを作成する

次に `MidiFileSequence` を作成します。作成する際の設定は以下になります:

* 継承元   : `Object`
* 公開設定 : `public`
* 作成先   : `MidiFileSequenceModule`
* クラス名 : `MidiFileSequence`

以下が、それぞれ設定を行っている画面です。

![継承元の設定](/images/books/ue_midi_file_plugin/18/05.png)
![公開設定、クラス名と作成先の設定](/images/books/ue_midi_file_plugin/18/06.png)

作成が正常に行われていると、 `MidiFileSequenceModule` 内に2つのファイルが作成されています。

![ファイルの確認](/images/books/ue_midi_file_plugin/18/07.png)

